
CREATE TABLE LOCATION (
LOCATION_ID		INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
NAME			VARCHAR(100) NOT NULL,
LOCALITY		VARCHAR(100) NOT NULL,
URL			VARCHAR(250),
HEIGHT_AGL_METRES	INT,
HEIGHT_ASL_METRES	INT,
LATITUDE		VARCHAR(50),
LONGITUDE		VARCHAR(50)
);


CREATE TABLE MANUFACTURER (
MANUFACTURER_ID		INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
NAME			VARCHAR(50) NOT NULL,
WEBSITE			VARCHAR(200)
);



CREATE TABLE AIRCRAFT (
AIRCRAFT_ID		INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
MANUFACTURER_ID		INT NOT NULL,
FOREIGN KEY (MANUFACTURER_ID) REFERENCES MANUFACTURER (MANUFACTURER_ID),
MODEL_NAME		VARCHAR(50) NOT NULL,
WING_AREA_M2		FLOAT,
PASSENGER_CAPACITY	INT DEFAULT 1,
LTF_RATING		VARCHAR(5)
);



CREATE TABLE PERSON (
PERSON_ID		INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
FIRST_NAME		VARCHAR(20) NOT NULL,
LAST_NAME		VARCHAR(20) NOT NULL,
SEX			CHAR(1) CONSTRAINT SEX_CONSTRAINT
			CHECK (SEX IN ('M','F')),
WEIGHT_KG		INT NOT NULL DEFAULT 75,
EMAIL			VARCHAR(120),
PHONE			VARCHAR(20),
DOB			DATE

);


CREATE TABLE FLIGHT (
ID 			INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
LAUNCH_DATETIME		TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
LAUNCH_LOCATION_ID	INT NOT NULL,
FOREIGN KEY (LAUNCH_LOCATION_ID) REFERENCES LOCATION (LOCATION_ID),
MAX_HEIGHT_METRES	INT,
MAX_LIFT_MS		FLOAT,
MAX_SINK_MS		FLOAT,
DURATION_MINS		INT NOT NULL,
DISTANCE_KM		FLOAT,
LANDINGS		INT DEFAULT 1,
AIRCRAFT_ID		INT NOT NULL,
FOREIGN KEY (AIRCRAFT_ID) REFERENCES AIRCRAFT (AIRCRAFT_ID),
LANDING_LOCATION_ID	INT,
FOREIGN KEY (LANDING_LOCATION_ID) REFERENCES LOCATION (LOCATION_ID),
PILOT_ID		INT,
FOREIGN KEY (PILOT_ID) REFERENCES PERSON (PERSON_ID),
INCIDENT_ID		INT,
PASSENGER_ID		INT,
FLIGHT_TYPE_ID		INT,
INCOME			FLOAT,
COMMENTS		VARCHAR(1000)
);

